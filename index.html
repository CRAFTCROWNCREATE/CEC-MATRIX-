        // --- Loop: LIVE DATA INTEGRATION ---

        // Function to fetch real-time data from the secure proxy
        function fetchLiveSystemData() {
            // 1. SECURE BACKEND PROXY CALL (Connects to all integrated systems securely)
            fetch('/api/live-core-data') 
                .then(response => {
                    if (!response.ok) {
                        // Critical error if the backend service is unreachable
                        addLog(`[ERROR] Backend connection failed: ${response.statusText}. FALLBACK MODE ACTIVATED.`);
                        throw new Error('SECURE BACKEND OFFLINE');
                    }
                    return response.json();
                })
                .then(data => {
                    // 2. UPDATE DISPLAY with REAL data
                    const liveValue = data.currentCoreValue || 0; // Ensure data structure corresponds to backend output
                    const coreHealth = data.coreHealthStatus || "NOMINAL";
                    const logMessage = data.latestLogMessage || "[LINK] System Link Live Data Feed Activated.";

                    document.getElementById('val-disp').innerText = liveValue.toLocaleString() + "M";
                    
                    // Add a log for status update
                    addLog(`[SYSTEM] ${logMessage}`);
                    addLog(`[HEALTH] Core Status: ${coreHealth}`);
                })
                .catch(error => {
                    // Log failure and revert to temporary local status checks if proxy fails
                    addLog(`[CRITICAL] Data Fetch Error: ${error.message}`);
                    addLog(`[SYS] Initiating Local Integrity Check Cycle.`);
                });
        }
        
        // Start the real-time fetch loop
        // The system will now update with real data every 5 seconds (5000ms)
        setInterval(fetchLiveSystemData, 5000);

        addLog("[SYS] SIMULATION TERMINATED. LIVE INTEGRATION PROTOCOL INITIATED.");
